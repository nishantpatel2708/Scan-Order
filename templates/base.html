<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>{% block title %}{% endblock %}</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
      .bs-example {
        margin: 20px;
      }
    </style>
    {% block head %} {% endblock %}
    <script>
      $(document).ready(function () {
        $("#myTab li:eq(1) a").tab("show"); // show 2nd tab on page load
      });
    </script>
  </head>
  <body>
    {% block body %} {% endblock %}
  </body>
</html>

<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="{% static 'assets/img/apple-icon.png' %}"
    />
    <link
      rel="icon"
      type="image/png"
      href="{% static 'assets/img/favicon.png' %}"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Scan N Order</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />
    <!--     Fonts and icons     -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
    {% block head %} {% endblock %}
  </head>

  <body class="">
    <div class="wrapper">
      <button
        class="navbar-toggler custom-toggler"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasExample"
        aria-controls="offcanvasExample"
      >
        <i class="material-icons">reorder</i>
      </button>

      <div
        class="offcanvas offcanvas-start sidebar-nav align-items-center"
        tabindex="-1"
        id="offcanvasExample"
        aria-labelledby="offcanvasExampleLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasExampleLabel">
            <div class="logo">
              <a href="#" class="simple-text logo-normal">
                {% block res_name %}{{ restro.restaurant_name }}{% endblock %}
              </a>
            </div>
          </h5>
        </div>
        <div class="offcanvas-body align-items-center">
          <hr />

          <ul class="navbar-nav">
            <li class="active">
              <a class="nav-link px-2" href="{% url 'rest_admin:t_price' %}">
                <span class="me-3"
                  ><i class="material-icons">dashboard</i></span
                >
                <span>Dashboard</span>
              </a>
            </li>

            <li>
              <a
                class="nav-link px-2"
                data-bs-toggle="collapse"
                href="#multiCollapseExample1"
                role="button"
                aria-expanded="false"
                aria-controls="multiCollapseExample1"
              >
                <span class="me-3"><i class="material-icons">layers</i></span>
                <span>Orders</span>
              </a>
              <div class="collapse multi-collapse" id="multiCollapseExample1">
                <ul class="nav flex-column sub-menu px-3">
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:t_order' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>Today's Orders</span></a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:orders' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>Order List</span></a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li>
              <a
                class="nav-link px-2 py-2"
                data-bs-toggle="collapse"
                href="#multiCollapseExample2"
                role="button"
                aria-expanded="false"
                aria-controls="multiCollapseExample2"
              >
                <span class="me-3"
                  ><i class="material-icons">content_paste</i></span
                >
                <span>TABLE</span>
              </a>
              <div class="collapse multi-collapse" id="multiCollapseExample2">
                <ul class="nav flex-column sub-menu px-3">
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:qr' %}"
                      ><span class="me-3"
                        ><i class="material-icons">add_box</i></span
                      >
                      <span>ADD TABLE</span></a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:table_view' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>MANAGE TABLE</span></a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:table_list' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>Table List</span></a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li>
              <a
                class="nav-link px-2 py-2"
                data-bs-toggle="collapse"
                href="#multiCollapseExample3"
                role="button"
                aria-expanded="false"
                aria-controls="multiCollapseExample3"
              >
                <span class="me-3"><i class="material-icons">category</i></span>
                <span>CATEGORIES</span>
              </a>
              <div class="collapse multi-collapse" id="multiCollapseExample3">
                <ul class="nav flex-column sub-menu px-3">
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_category' %}"
                      ><span class="me-3"
                        ><i class="material-icons">add_box</i></span
                      >
                      <span>ADD CATEGORIES</span></a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:cat_list' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>MANAGE CATEGORIES</span></a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li>
              <a
                class="nav-link px-2 py-2"
                data-bs-toggle="collapse"
                href="#multiCollapseExample4"
                role="button"
                aria-expanded="false"
                aria-controls="multiCollapseExample4"
              >
                <span class="me-3"><i class="material-icons">hail</i></span>
                <span>Manager</span>
              </a>
              <div class="collapse multi-collapse" id="multiCollapseExample4">
                <ul class="nav flex-column sub-menu px-3">
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_manager' %}"
                      ><span class="me-3"
                        ><i class="material-icons">add_box</i></span
                      >
                      <span>ADD MANAGER</span></a
                    >
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:manager_list' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>MANAGE MANAGER</span></a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li>
              <a
                class="nav-link px-2 py-2"
                data-bs-toggle="collapse"
                href="#multiCollapseExample5"
                role="button"
                aria-expanded="false"
                aria-controls="multiCollapseExample5"
              >
                <span class="me-3"
                  ><i class="material-icons"
                    >restaurant_menhailu_two_tone</i
                  ></span
                >
                <span>MENU</span>
              </a>
              <div class="collapse multi-collapse" id="multiCollapseExample5">
                <ul class="nav flex-column sub-menu px-3">
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:add_menu' %}"
                      ><span class="me-3"
                        ><i class="material-icons">add_box</i></span
                      >
                      <span>ADD MENU</span></a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:menu_list' %}"
                      ><span class="me-3"
                        ><i class="material-icons">list_alt</i></span
                      >
                      <span>MANAGE MENU</span></a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                data-toggle="collapse"
                href="#setting-dropdown2"
                aria-expanded="false"
                aria-controls="setting-dropdown"
              >
                <i class="material-icons">group</i>
                <span class="menu-title">EMPLOYEE<b class="caret"></b></span>
              </a>
              <div class="collapse" id="setting-dropdown2">
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_employee' %}"
                      ><i class="material-icons">add_box</i>ADD EMPLOYEE</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:emp_list' %}"
                      ><i class="material-icons">list_alt</i>MANAGE EMPLOYEE</a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                data-toggle="collapse"
                href="#setting-dropdown10"
                aria-expanded="false"
                aria-controls="setting-dropdown"
              >
                <i class="material-icons">group</i>
                <span class="menu-title">Expenses<b class="caret"></b></span>
              </a>
              <div class="collapse" id="setting-dropdown10">
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_day_expenses' %}"
                      ><i class="material-icons">add_box</i> Add Expenses</a
                    >
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:manage_day_expenses' %}"
                      ><i class="material-icons">list_alt</i> Expenses</a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                data-toggle="collapse"
                href="#setting-dropdown20"
                aria-expanded="false"
                aria-controls="setting-dropdown"
              >
                <i class="material-icons">group</i>
                <span class="menu-title"
                  >Month Expenses<b class="caret"></b
                ></span>
              </a>
              <div class="collapse" id="setting-dropdown20">
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_month_expenses' %}"
                      ><i class="material-icons">add_box</i> Add Month
                      Expenses</a
                    >
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:manage_month_expenses' %}"
                      ><i class="material-icons">list_alt</i> Month Expenses</a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                data-toggle="collapse"
                href="#setting-dropdown21"
                aria-expanded="false"
                aria-controls="setting-dropdown"
              >
                <i class="material-icons">web_asset</i>
                <span class="menu-title">Assets<b class="caret"></b></span>
              </a>
              <div class="collapse" id="setting-dropdown21">
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_assests' %}"
                      ><i class="material-icons">add_box</i> Add Assests</a
                    >
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:manage_assests' %}"
                      ><i class="material-icons">list_alt</i> Manage Assets</a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                data-toggle="collapse"
                href="#setting-dropdown30"
                aria-expanded="false"
                aria-controls="setting-dropdown"
              >
                <i class="material-icons">group</i>
                <span class="menu-title">Inventory<b class="caret"></b></span>
              </a>
              <div class="collapse" id="setting-dropdown30">
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:add_unit' %}"
                      ><i class="material-icons">add_box</i> Add Unit</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rest_admin:unit_list' %}"
                      ><i class="material-icons">list_alt</i> Unit List</a
                    >
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:add_inventory' %}"
                      ><i class="material-icons">list_alt</i> Add Inventory</a
                    >
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{% url 'rest_admin:inventory_list' %}"
                      ><i class="material-icons">list_alt</i> Inventory List</a
                    >
                  </li>
                </ul>
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="{% url 'rest_admin:user_profile' %}">
                <i class="material-icons">person</i>
                <p>My Profile</p>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="{% url 'rest_admin:balence_sheet' %}">
                <i class="material-icons">report</i>
                <p>Report</p>
              </a>
            </li>

            <li class="">
              <a class="nav-link" href="{% url 'accounts:user_logout' %}">
                <i class="material-icons">power_settings_new</i>
                <p>Logout</p>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="content">
        <div class="container-fluid">{% block body %} {% endblock %}</div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

        <script>
      var rest_id = "{{ restro.id }}";

      var socket = new WebSocket(
        "ws://localhost:8000/ws/waiter_call/" + rest_id
      );

      socket.onopen = function (e) {
        console.log(e);
      };

      socket.onmessage = function (e) {
        let ale = document.getElementById("demo");

        let payload = JSON.parse(e.data);

        ale.innerHTML += `
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>${payload.payload.message}</strong>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        `;
      };

      socket.onclose = function (e) {};
    </script>
  </body>
</html>
